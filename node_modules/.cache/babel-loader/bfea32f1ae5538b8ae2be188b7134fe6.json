{"ast":null,"code":"import db from '../json/mime-db.json';\n// console.log('db', db)\n\nvar EXTRACT_TYPE_REGEXP = /^\\s*([^;\\s]*)(?:;|\\s|$)/;\nvar TEXT_TYPE_REGEXP = /^text\\//i;\nexport function charset(type) {\n  if (!type || typeof type !== 'string') {\n    return false;\n  }\n\n  // TODO: use media-typer\n  var match = EXTRACT_TYPE_REGEXP.exec(type);\n  var mime = match && db[match[1].toLowerCase()];\n  console.log('mime', mime);\n  console.log('mime.charset', mime.charset);\n  if (mime && mime.charset) {\n    return mime.charset;\n  }\n\n  // default text/* to utf-8\n  if (match && TEXT_TYPE_REGEXP.test(match[1])) {\n    return 'UTF-8';\n  }\n  return false;\n}","map":{"version":3,"names":["db","EXTRACT_TYPE_REGEXP","TEXT_TYPE_REGEXP","charset","type","match","exec","mime","toLowerCase","console","log","test"],"sources":["/Users/user/develop/study/idontknow/src/common/helpers/mime-types.helpers.js"],"sourcesContent":["import db from '../json/mime-db.json'\n// console.log('db', db)\n\nvar EXTRACT_TYPE_REGEXP = /^\\s*([^;\\s]*)(?:;|\\s|$)/\nvar TEXT_TYPE_REGEXP = /^text\\//i\n\nexport function charset(type) {\n    if (!type || typeof type !== 'string') {\n        return false\n    }\n\n    // TODO: use media-typer\n    var match = EXTRACT_TYPE_REGEXP.exec(type)\n    var mime = match && db[match[1].toLowerCase()]\n\n    console.log('mime', mime)\n    console.log('mime.charset', mime.charset)\n    if (mime && mime.charset) {\n        return mime.charset\n    }\n\n    // default text/* to utf-8\n    if (match && TEXT_TYPE_REGEXP.test(match[1])) {\n        return 'UTF-8'\n    }\n\n    return false\n}"],"mappings":"AAAA,OAAOA,EAAE,MAAM,sBAAsB;AACrC;;AAEA,IAAIC,mBAAmB,GAAG,yBAAyB;AACnD,IAAIC,gBAAgB,GAAG,UAAU;AAEjC,OAAO,SAASC,OAAO,CAACC,IAAI,EAAE;EAC1B,IAAI,CAACA,IAAI,IAAI,OAAOA,IAAI,KAAK,QAAQ,EAAE;IACnC,OAAO,KAAK;EAChB;;EAEA;EACA,IAAIC,KAAK,GAAGJ,mBAAmB,CAACK,IAAI,CAACF,IAAI,CAAC;EAC1C,IAAIG,IAAI,GAAGF,KAAK,IAAIL,EAAE,CAACK,KAAK,CAAC,CAAC,CAAC,CAACG,WAAW,EAAE,CAAC;EAE9CC,OAAO,CAACC,GAAG,CAAC,MAAM,EAAEH,IAAI,CAAC;EACzBE,OAAO,CAACC,GAAG,CAAC,cAAc,EAAEH,IAAI,CAACJ,OAAO,CAAC;EACzC,IAAII,IAAI,IAAIA,IAAI,CAACJ,OAAO,EAAE;IACtB,OAAOI,IAAI,CAACJ,OAAO;EACvB;;EAEA;EACA,IAAIE,KAAK,IAAIH,gBAAgB,CAACS,IAAI,CAACN,KAAK,CAAC,CAAC,CAAC,CAAC,EAAE;IAC1C,OAAO,OAAO;EAClB;EAEA,OAAO,KAAK;AAChB"},"metadata":{},"sourceType":"module"}